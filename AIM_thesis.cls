% ===
%
% Official LaTeX thesis class file of the
% Chair for AI Methodology (AIM)
% RWTH Aachen University, Aachen, Germany
%
% Author: Jakob Bossek (bossek@aim.rwth-aachen.de)
% 
% AIM website: https://aim.rwth-aachen.de/
%
% NOTE: DO NOT EDIT THIS FILE!
% ===

% ====================
% 1) IDENTIFICATION
% ====================

%
\def\fileversion{1.1.1}
\def\filedata{2025/09/12}

% set LaTeX version to work with
\NeedsTeXFormat{LaTeX2e}

% declare class
\ProvidesClass{AIM_thesis}[2025/09/12 RWTH Aachen, Chair of AI Methodology thesis template]


% ==============================
% 3) PRELIMINARY DECLARATIONS
% ==============================

\RequirePackage{kvoptions}
\RequirePackage{ifthen}


% =============
% 3) OPTIONS
% =============

\SetupKeyvalOptions{
  family=AIM,
  prefix=AIM@
}

% master thesis is default
\DeclareStringOption[]{thesis}[master]

% take care of all options not defined explicitly
\ProcessKeyvalOptions*

% template extends base book class
\LoadClass[a4paper, 10pt]{report}

\newcommand{\thesistype}[1]{\def\@thesistype{#1}}
\ifthenelse{\equal{\AIM@thesis}{master}}{
  \thesistype{Master thesis}
}{
  \thesistype{Bachelor thesis}
}

% =======================
% 4) MORE DECLARATIONS
% =======================

% NOTE: \RequirePackage is like \usepackage, but it can be called before \documentclass
\RequirePackage[utf8]{inputenc}
\RequirePackage[english]{babel}
\RequirePackage[T1]{fontenc}

% margins
\RequirePackage[a4paper,left=2.9cm, top=2.9cm, bottom=2.3cm, right=2.9cm,heightrounded,includefoot]{geometry}

% floats
\RequirePackage{float}
\RequirePackage[font=small,labelfont=bf,justification=justified]{caption}
\RequirePackage{subcaption}
%\RequirePackage[caption=false]{subfig}

% font
\RequirePackage{palatino}
\RequirePackage{setspace}
\RequirePackage{mathpazo} % math in Palatino font

% math
\RequirePackage{amsmath}
\RequirePackage{amssymb}
%\RequirePackage{amsthm}
\RequirePackage{mathtools}
\RequirePackage{dsfont}

% graphics and figures
\RequirePackage{graphicx}

% colors
\RequirePackage[dvipsnames]{xcolor}

% define RWTH colors
\definecolor{rwthlightblue}{RGB}{143, 185, 223}
\definecolor{rwthdarkblue}{RGB}{0, 84, 159}
\definecolor{rwthgray}{RGB}{54, 54, 54}

% hyperlinks
\RequirePackage[linktocpage=true]{hyperref}
\hypersetup{
    pdfborder = {0 0 0}, 
    colorlinks,
    linkcolor={rwthdarkblue},
    citecolor={rwthdarkblue},
    urlcolor={rwthdarkblue}}

% Header and Footer
\RequirePackage{fancyhdr}
\pagestyle{fancyplain}
\fancyhf{}
\fancyfoot[C]{\thepage}
\fancyhead[R]{\leftmark}
\fancyhead[L]{\rightmark}
\renewcommand{\headrulewidth}{0.1pt}

% avoid footnotes spanning multiple pages
\clubpenalty=10000
\widowpenalty=10000
\displaywidowpenalty=10000
\interfootnotelinepenalty=10000

\renewcommand{\figurename}{Figure}

% title of the ToC
\addto\captionsenglish{
\renewcommand{\contentsname}
{\bfseries{Table of Contents}}}

% change design of chapter headings
\usepackage{titlesec}
\newcommand{\chapfnt}{\fontsize{17}{25}}

\titleformat{\chapter}[display]
{\normalfont\chapfnt\bfseries}{\color{rwthdarkblue}\chaptertitlename\ \thechapter}{10pt}{}

% =================================
% 5) STRUCTURE-SPECIFIC COMMANDS
% =================================

% general author meta-data 
\newcommand{\supervisors}[1]{\def\@supervisors{#1}}
\newcommand{\id}[1]{\def\@id{#1}}
\newcommand{\email}[1]{\def\@email{#1}}

% address data
\newcommand{\street}[1]{\def\@street{#1}}
\newcommand{\zip}[1]{\def\@zip{#1}}
\newcommand{\city}[1]{\def\@city{#1}}
\newcommand{\country}[1]{\def\@country{#1}}

% ============================
% 6) ADAPTING THE STRUCTURE
% ============================

\renewcommand{\maketitle}{
\newgeometry{left=2cm, top=3cm, bottom=3cm, right=8cm}
\parindent0pt
\onehalfspacing
\begin{titlepage}
    %\includegraphics[width=4cm]{figures/rwth-logo.png}\par
    \vspace*{4.5cm}
    {\large \@thesistype}\par
    \vspace*{0.5cm}
    {\large \textbf \@title}\par
    \vspace*{1.2cm}
    % Presented by\par
    {\@author~(\@id)}\par
    \vfill
    \textcolor{rwthgray}{\textbf{Supervisors:}}\\
    {\@supervisors}\par
    \vspace*{1cm}
    RWTH Aachen University\\
    Department of Computer Science\\
    Chair of AI Methodology~(Informatik~14)\\
    \url{https://www.aim.rwth-aachen.de/}
\end{titlepage}
\restoregeometry{}
} % maketitle
